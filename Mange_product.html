<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin - Product Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS & SweetAlert -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body onload="checkSession()">
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="#">Admin Dashboard</a>
        <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="catergory_mangment.html">Manage Categories</a></li>
            <li class="nav-item"><a class="nav-link" href="Mange_product.html">Manage Products</a></li>
            <li class="nav-item"><a class="nav-link" href="ordermangment.html">Manage Orders</a></li>
            <li class="nav-item"><a class="nav-link" href="ReviewMangment.html">Manage Reviews</a></li>
            <li class="nav-item"><a class="nav-link" href="messages.html">Messages</a></li>
            <li class="nav-item"><a class="nav-link text-danger" href="#" onclick="logout()">Logout</a></li>
        </ul>
    </div>
</nav>
<div class="container mt-5">
    <h2 class="text-center mb-4">Product Management Panel</h2>

    <!-- Button to Add Product -->
    <button class="btn btn-success mb-3" data-toggle="modal" data-target="#addProductModal">+ Add Product</button>

    <!-- Product Table -->
    <table class="table table-bordered table-hover">
        <thead class="thead-dark">
        <tr>
            <th>ID</th><th>Title</th><th>Price</th><th>Qty</th><th>Category</th><th>Image</th><th>Actions</th>
        </tr>
        </thead>
        <tbody id="product-table-body"></tbody>
    </table>
</div>

<!-- Add Product Modal -->
<div class="modal fade" id="addProductModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <form id="add-product-form" enctype="multipart/form-data">
            <div class="modal-content">
                <div class="modal-header">
                    <h5>Add Product</h5>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <input class="form-control mb-2" type="text" id="product-title" placeholder="Title" required>
                    <input class="form-control mb-2" type="number" id="product-price" placeholder="Price" required>
                    <input class="form-control mb-2" type="number" id="product-quantity" placeholder="Quantity" required>
                    <select class="form-control mb-2" id="product-category" required></select>
                    <input class="form-control mb-2" type="file" id="product-image" accept="image/*">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" type="submit">Add</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- Edit Product Modal -->
<div class="modal fade" id="editProductModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <form id="edit-product-form" enctype="multipart/form-data" onsubmit="event.preventDefault(); updateProduct();">
            <div class="modal-content">
                <div class="modal-header">
                    <h5>Edit Product</h5>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="edit-product-id">
                    <input class="form-control mb-2" type="text" id="edit-product-title" placeholder="Title" required>
                    <input class="form-control mb-2" type="number" id="edit-product-price" placeholder="Price" required>
                    <input class="form-control mb-2" type="number" id="edit-product-quantity" placeholder="Quantity" required>
                    <select class="form-control mb-2" id="edit-product-category" required></select>
                    <input class="form-control mb-2" type="file" id="edit-product-image" accept="image/*">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-warning" type="submit">Update</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="js/product.js"></script>

</body>
</html>
